<!DOCTYPE html>
<html>
<head>
	<title>NBA Scores and Statistics</title>


     <!--Import Google Icon Font-->
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

     <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    

     <!--Let browser know website is optimized for mobile-->
     <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
     <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">

     <link rel="stylesheet" href="Box_Score.css">

</head>

<body>

<div class="container">
	<div class="row" style="padding-top: 15px">

      <div class="col s3">
      	<img class="materialboxed" width="100" src="nba_PNG15.png">
      </div>

      <div class="col s6">
      	<h1 class="title">NBA Scores and Statistics</h1>
      </div>

      <div class="col s3">
      	<img class="materialboxed" width="100" src="nba_PNG15.png" style="margin-left: 150px">
      </div>

 

    </div>
 </div>


<div class="container" style="padding-top: 50px">


	

	<div class="row">
	    <div class="col s5">
	      <div class="row">
	        <div class="input-field">
	          <i class="material-icons prefix">textsms</i>
	          <input type="text" id="autocomplete-input1" class="autocomplete">
	          <label for="autocomplete-input" class="#b71c1c red-text text-darken-4">Select Team:</label>
	        </div>
	      </div>
	    </div>		
	  </div>


<div class="row">
	    <div class="col s5">
	      <div class="row">
	        <div class="input-field">
	          <i class="material-icons prefix">textsms</i>
	          <input type="text" id="autocomplete-input2" class="autocomplete2">
	          <label for="autocomplete-input" class="#b71c1c red-text text-darken-4">Select Season:</label>
	        </div>
	      </div>
	    </div>
	  </div>


<div class="row">
	<div class="col s6">
		<a class="waves-effect waves-light btn-large" id="sbtn" onclick="clicked()">Search</a>
	</div>
</div>

<div class="row">
	<div class="col s6">
		<h1 class="tscore">Final Scores:</h1>
	</div>
</div>

<div class="row" id="datadisplay" style="font-size: 20px">
	

</div>

</div>



<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

   <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>

    	
		 
		 document.addEventListener('DOMContentLoaded', function() {
		    var elems = document.querySelectorAll('.autocomplete');
		    var instances = M.Autocomplete.init(elems, {data: {

        				"Atlanta Hawks": null,
				        "Boston Celtics": null,
				        "Brooklyn Nets": null,
				        "Charlotte Hornets": null,
				        "Chicago Bulls": null,
				        "Cleveland Cavaliers": null,
				        "Dallas Mavericks": null,
				        "Denver Nuggets": null,
				        "Detroit Pistons": null,
				        "Golden State Warriors": null,
				        "Houston Rockets": null,
				        "Indiana Pacers": null,
				        "Los Angeles Clippers": null,
				        "Los Angeles Lakers": null,
				        "Memphis Grizzlies": null,
				        "Miami Heat": null,
				        "Milwaukee Bucks": null,
				        "Minnesota Timberwolves": null,
				        "New Orleans Pelicans": null,
				        "New York Knicks": null,
				        "Oklahoma City Thunder": null,
				        "Orlando Magic": null,
				        "Philadelphia 76ers": null,
				        "Phoenix Suns": null,
				        "Portland Trail Blazers": null,
				        "Sacramento Kings": null,
				        "San Antonio Spurs": null,
				        "Toronto Raptors": null,
				        "Utah Jazz": null,
				        "Washington Wizards": null,
      				}
      			,onAutocomplete: function(data) { 
      			} 
      		 });
		  });



    	
		 
		 document.addEventListener('DOMContentLoaded', function() {
		    var elems = document.querySelectorAll('.autocomplete2');
		    var instances = M.Autocomplete.init(elems, {data: {

        				"2010-2011": null,
				        "2011-2012": null,
				        "2012-2013": null,
				        "2013-2014": null,
				        "2014-2015": null,
				        "2015-2016": null,
				        "2016-2017": null,
				        "2017-2018": null,
				        "2018-2019": null,
				        "2019-2020": null,
				        
      				}
      			,onAutocomplete: function(data) { 
      			} 
      		 });
		  });


	
	

	var team_map = {

		"Atlanta Hawks": 1,
		"Boston Celtics": 2,
		"Brooklyn Nets": 3,
		"Charlotte Hornets": 4,
		"Chicago Bulls": 5,
		"Cleveland Cavaliers": 6,
		"Dallas Mavericks": 7,
		"Denver Nuggets": 8,
		"Detroit Pistons": 9,
		"Golden State Warriors": 10,
		"Houston Rockets": 11,
		"Indiana Pacers": 12,
		"Los Angeles Clippers": 13,
		"Los Angeles Lakers": 14,
		"Memphis Grizzlies": 15,
		"Miami Heat": 16,
		"Milwaukee Bucks": 17,
		"Minnesota Timberwolves": 18,
		"New Orleans Pelicans": 19,
		"New York Knicks": 20,
		"Oklahoma City Thunder": 21,
		"Orlando Magic": 22,
		"Philadelphia 76ers": 23,
		"Phoenix Suns": 24,
		"Portland Trail Blazers": 25,
		"Sacramento Kings": 26,
		"San Antonio Spurs": 27,
		"Toronto Raptors": 28,
		"Utah Jazz": 29,
		"Washington Wizards": 30,
	}

	var season_map = {

		"2010-2011": 2010,
		"2011-2012": 2011,
		"2012-2013": 2012,
		"2013-2014": 2013,
		"2014-2015": 2014,
		"2015-2016": 2015,
		"2016-2017": 2016,
		"2017-2018": 2017,
		"2018-2019": 2018,
		"2019-2020": 2019,
	}


	var team_entry = document.getElementById("autocomplete-input1")
	var season_entry = document.getElementById("autocomplete-input2")
	var sbtn = document.getElementById("sbtn")

	function clicked() {

	
			team = team_entry.value
			season = season_entry.value
			datapull(team_map[team],season_map[season])
			
	}

//proud of the code below

	function datapull(team_id,seasons) {

		
		let url = "https://www.balldontlie.io/api/v1/games?per_page=100" + "?seasons[]=" + (seasons) + "&team_ids[]=" + (team_id)



		  	fetch(url, {
		 
			})
			.then(response => response.json())
			.then(result => {
		  		console.log(result);
		  		
		  		dd = document.getElementById("datadisplay")


		  		for (i = 0; i < result["data"].length; i = i + 1){

		  				ht = result["data"][i]["home_team"]["full_name"]
		  				vt = result["data"][i]["visitor_team"]["full_name"]

		  				hs = result["data"][i]["home_team_score"]
		  				vs = result["data"][i]["visitor_team_score"]


		  				d = document.createElement("div")
				  		d.id = "g1"

				  		p = document.createElement("p")
				  		p.id = "p1"


				  		if (team_entry.value === vt){
				  			
				  			p.innerHTML = result["data"][i]["visitor_team"]["full_name"] + ": " + result["data"][i]["visitor_team_score"] + " vs " + result["data"][i]["home_team"]["full_name"] + ": " + result["data"][i]["home_team_score"];
				  		} else {
    						p.innerHTML = result["data"][i]["home_team"]["full_name"] + ": " + result["data"][i]["home_team_score"] + " vs " + result["data"][i]["visitor_team"]["full_name"] + ": " + result["data"][i]["visitor_team_score"];
 						
 						}

				  	 

				  		d.appendChild(p)
				  		dd.appendChild(d)

		  		}



			})
			.catch(error => {
			  console.error('Error:', error);
			});


	}
	

		

		
	
	

	



	

	

</script>

</body>






